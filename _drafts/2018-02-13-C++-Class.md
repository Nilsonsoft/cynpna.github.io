---
layout: post
title: "C++ 클래스"
date: 2018-02-13 12:00
categories: Program_Language
tags: C++
---

C++ 클래스와 관련한 내용을 작성한다.

------

### 의미 정의

> **클래스 = 멤버변수 + 멤버함수**

> **클래스(Class) = 속성(Attribute) + 방법, 기능(Method)**

- 데이터 추상화(**Data Abstraction**) :  사물을 기능적, 데이터적 측면으로 재정의 하는 것
- 클래스화 : 추상화된 데이터를 통해 사용자 정의 자료형을 정의하는 것(**클래스화**)



![1](https://user-images.githubusercontent.com/29933947/36129028-863f2112-10a8-11e8-8353-1ee71a3a699d.png)



> **객체(Object): 클래스를 이용하여 정의된 자료형의 변수**

- 인스턴스화(**instantiation, 객체화**) : 클래스를 기반으로 객체를 생성하는 것

  ​

![2](https://user-images.githubusercontent.com/29933947/36129226-6ed54a32-10a9-11e8-986f-ce9ce212a2eb.png)



### 클래스 멤버 접근

#### 내부, 외부 접근

  . 내부 접근 : 같은 클래스 내에 존재하는 멤버에 의한 접근

  . 외부 접근 : 내부 접근 외의 모든 접근



#### Public, Protected, Private

  . Public : 클래스 외부 접근 허용

  . Private : 클래스 **내부 접근만** 허용

```c++
#include <iostream>

using std::cout;
using std::endl;

const int OPEN=1;
const int CLOSE=2;

class Door{
    private:
        int state;
    public:
        void Open(){
            state = OPEN;   // 내부 접근
        }
        void Close(){
            state = CLOSE;  // 내부 접근
        }
        void ShowState(){
            cout << "현재 문 상태 :";
            cout << ((state==OPEN)? "OPEN" : "CLOSE") << endl; 
        }
};

int main(){
    Door d;
    // d.state = OPEN;      // 외부 접근(private라 접근 불가) - 오류 발생

    d.Open();               // 외부 접근
    d.ShowState();          // 외부 접근
    
    return 0;
}
```



#### 멤버 함수 외부 접근 및 인라인(inline)

  . 외부 접근은 `::` 연산자를 활용함

  . 인라인은 `inline` 키워드를 함수의 앞단에 추가해 주면 됨

```c++
#include <iostream>

using std::cout;
using std::endl;

const int OPEN=1;
const int CLOSE=2;

// ****** Door 클래스 `선언` ****** //
class Door{
    private:
        int state;
    public:
        void Open();        
        void Close();
        void ShowState();        
};
// ****** Door 클래스 `선언` ****** //

// ****** Door 클래스 멤버 함수 `정의` ****** //
void Door::Open(){
    state = OPEN;   // 내부 접근
}
void Door::Close(){
    state = CLOSE;  // 내부 접근
}
void Door::ShowState(){
    cout << "현재 문 상태 :";
    cout << ((state==OPEN)? "OPEN" : "CLOSE") << endl; 
}

// 함수를 인라인 하기 위해서는, inline 키워드를 붙여주면 됨
// ex) void Door::Open() -> inline void Door::Open()
// ****** Door 클래스 멤버 함수 `정의` ****** //

int main(){
    Door d;
 
    d.Open();
    d.ShowState();
    
    return 0;
}
```



### 정보은닉(Information Hiding)

> 일반적으로, 객체의 외부에서 객체 내에 존재하는 멤버 변수에 직접 접근을 허용하지 않도록 함

  . 클래스 선언 시, public, private 등의 선언을 하지 않고, 멤버 변수를 정의하면 `private` 가 기본으로 설정됨

  . 아래 예제와 같이, 멤버 변수의 접근을 멤버 함수로 제한하고, 함수 안에서 조건을 따지는 형태로 구성하는 것으로 보임

```c++
#include <iostream>

using std::cout;
using std::endl;
using std::cin;

class Point
{
    // public, private를 지정하지 않으면 private가 기본으로 설정됨
    int x;  // x 좌표 범위 0-100
    int y;  // y 좌표 범위 0-100    

    public:
        int GetX(){return x;}
        int GetY(){return y;}

        void SetX(int _x);  // == void SetX(int);
        void SetY(int _y);  // == void SetY(int);    
};

void Point::SetX(int _x){
   if(_x < 0 || _x > 100) // 경계 검사
   {
       cout << "잘못된 X 좌표 입력" << endl;
       return;
   }
   x = _x;              // 정보 은닉 형태, 클래스 멤버 변수에 대한 내부 접근만 허용
}

void Point::SetY(int _y){
   if(_y < 0 || _y > 100) // 경계 검사
   {
       cout << "잘못된 Y 좌표 입력" << endl;
       return;
   }
   y = _y;              // 정보 은닉 형태, 클래스 멤버 변수에 대한 내부 접근만 허용   
}

int main(){
    int x, y;
    cout <<"좌표값 입력: ";
    cin >> x >> y;

    Point p;
    p.SetX(x);
    p.SetY(y);

    cout << "입력 값 문제 없음" << endl;

    return 0;
}
```

![1](https://user-images.githubusercontent.com/29933947/36133833-310b47fe-10c4-11e8-98ea-41e6201b1bfd.png)





### 캡슐화(Encapsulation)

> 관련 있는 데이터와 함수를 하나의 단위로 묶음



